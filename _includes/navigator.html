{% assign author = site.data.author %}
<nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
    <img src="{{ author.formal-photo }}" style="width:100%">
    {% for x in site.data.conf.bar-items %}
    <a href="#{{ x.id }}" onclick="navSection( '{{ x.id }}' );"
         class="w3-bar-item w3-button w3-padding-large w3-hover-black">
         <i class="fa fa-{{ x.icon }} w3-text-teal w3-xxlarge"></i><p>{{ x.text }}</p>
    </a>
    {% endfor %}
    <a href="{{ author.github }}" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
        <i class="fa fa-github w3-text-teal w3-xxlarge"></i>
    </a>
</nav>

<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">

    <div class="w3-bar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <a class="w3-bar-item w3-button topnav icon" onclick="Drop()">
        <i class="fa fa-bars"></i>
    </a>
    </div>
    <div class="topnav w3-bar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <div id="section-links">
    {% for x in site.data.conf.bar-items %}
        <a href="#{{ x.id }}" class="w3-bar-item w3-button"
         style="width: 100%;"
         onclick="navSection( '{{ x.id }}' )">{{ x.text }}</a>
    {% endfor %}
    </div>
    </div>
</div>

<script>
function navSection ( id ) {
    if ( id == "home" ) {
        window.location.href = "/";
    } else {
        var page = '{{ page.url }}';
        var url = '{{ site.url }}/#' + id;
        if ( page != "/" ) { 
            window.location.href = url
        };
    };
};

function Drop() {
  var x = document.getElementById("section-links");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
};

window.onclick = function ( e ) {

    var atop = $("#myNavbar i")[0];
    var itop = $("#myNavbar .topnav")[0];
    var divtop = $("#myNavbar .w3-bar")[0];
    var navtop = $("#section-links")[0];

    if ( 
            navtop.style.display == "block" & e.target != divtop & e.target != atop & e.target != itop
    ) {
        if ( getvalues( navtop.querySelectorAll("a") ).filter(
            l => e.target == l 
        ).length == 0 ) { navtop.style.display = "none" };        
    };
};        
</script>